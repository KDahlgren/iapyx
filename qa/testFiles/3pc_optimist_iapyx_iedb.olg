define(pre,{string,string,int});
define(post,{string,string,int});
define(decision,{string,string,string,int});
define(disagree,{string,int});
define(cancommit,{string,string,string,int});
define(vote_msg,{string,string,string,string,int});
define(vote,{string,string,string,string,int});
define(timer_svc,{string,string,int,int});
define(abort,{string,string,int});
define(authorized,{string,string,int});
define(precommit,{string,string,string,int});
define(ack,{string,string,string,int});
define(timer_cancel,{string,string,int});
define(commit,{string,string,int});
define(precommitted,{string,string,string,int});
define(missing_ack,{string,string,int});
define(missing_vote,{string,string,int});
define(prepared,{string,string,string,string,int});
define(gotcommit,{string,string,string,int});
define(agent,{string,string,int});
define(can,{string,string,int});
define(running,{string,string,int});
define(coordinator,{string,string,int});
define(timer_state,{string,string,int,int});
define(timeout,{string,string,int});
define(pre_prov0,{string,string,int});
define(post_prov1,{string,string,string,string,int});
define(decision_prov2,{string,string,string,int});
define(decision_prov3,{string,string,string,int});
define(disagree_prov4,{string,string,string,int});
define(pre_prov5,{string,string,int});
define(post_prov6,{string,string,string,int});
define(cancommit_prov7,{string,string,string,int,int});
define(vote_msg_prov8,{string,string,string,string,int,int});
define(vote_prov9,{string,string,string,string,int});
define(timer_svc_prov10,{string,string,int,int});
define(abort_prov11,{string,string,int,int});
define(authorized_prov12,{string,string,int});
define(precommit_prov13,{string,string,string,int,int});
define(ack_prov14,{string,string,string,int,int});
define(timer_cancel_prov15,{string,string,int});
define(timer_svc_prov16,{string,string,int,string,int});
define(commit_prov17,{string,string,string,int});
define(precommitted_prov18,{string,string,string,int});
define(precommitted_prov19,{string,string,string,int,int});
define(abort_prov20,{string,string,int,int});
define(commit_prov21,{string,string,int,int});
define(missing_ack_prov22,{string,string,string,int});
define(missing_vote_prov23,{string,string,string,int});
define(prepared_prov24,{string,string,string,string,int});
define(prepared_prov25,{string,string,string,string,int,int});
define(timer_svc_prov26,{string,string,int,int});
define(abort_prov27,{string,string,int,int});
define(commit_prov28,{string,string,string,int,int});
define(abort_prov29,{string,string,string,int,int});
define(gotcommit_prov30,{string,string,string,int,int});
define(agent_prov31,{string,string,int,int});
define(can_prov32,{string,string,int,int});
define(abort_prov33,{string,string,int,int});
define(commit_prov34,{string,string,int,int});
define(vote_prov35,{string,string,string,string,int,int});
define(running_prov36,{string,string,int});
define(running_prov37,{string,string,int,int});
define(coordinator_prov38,{string,string,int,int});
define(timer_state_prov39,{string,string,int,int,int,int});
define(timer_state_prov40,{string,string,int,int,int,int});
define(timeout_prov41,{string,string,int});
define(agent_prov42,{string,string,int});
define(coordinator_prov43,{string,string,int});
define(can_prov44,{string,string,int});
define(begin,{string,string,int});
define(agent_edb,{string,string,int});
define(coordinator_edb,{string,string,int});
define(can_edb,{string,string,int});
define(clock,{string,string,int,int});
define(crash,{string,string,int,int});
begin("C","hello",1);
agent_edb("C","a",1);
agent_edb("C","b",1);
agent_edb("C","d",1);
agent_edb("a","b",1);
agent_edb("a","d",1);
agent_edb("b","a",1);
agent_edb("b","d",1);
agent_edb("d","a",1);
agent_edb("d","b",1);
coordinator_edb("a","C",1);
coordinator_edb("b","C",1);
coordinator_edb("d","C",1);
coordinator_edb("C","C",1);
can_edb("a","hello",1);
can_edb("b","hello",1);
can_edb("d","hello",1);
pre("termination",X,NRESERVED) :-  prepared(_,_,X,_,NRESERVED), clock(_,_,NRESERVED,_) ;
post("termination",X,NRESERVED) :-  decision(A1,X,_,NRESERVED), decision(A2,X,_,NRESERVED), clock(A1,A1,NRESERVED,_),A1!=A2 ;
decision(C,X,"c",NRESERVED) :-  commit(C,X,NRESERVED), clock(C,C,NRESERVED,_) ;
decision(C,X,"a",NRESERVED) :-  abort(C,X,NRESERVED), clock(C,C,NRESERVED,_) ;
disagree(X,NRESERVED) :-  decision(_,X,V1,NRESERVED), decision(_,X,V2,NRESERVED), clock(_,_,NRESERVED,_),V1!=V2 ;
pre("decide",X,NRESERVED) :-  decision(_,X,_,NRESERVED), clock(_,_,NRESERVED,_) ;
post("decide",X,NRESERVED) :-  decision(_,X,V,NRESERVED), clock(_,_,NRESERVED,_),notin disagree(X,NRESERVED) ;
cancommit(Agent,Coord,Xact,MRESERVED) :-  begin(Coord,Xact,NRESERVED), agent(Coord,Agent,NRESERVED), clock(Coord,Agent,NRESERVED,MRESERVED) ;
vote_msg(Coord,Agent,Xact,"Y",MRESERVED) :-  cancommit(Agent,Coord,Xact,NRESERVED), can(Agent,Xact,NRESERVED), clock(Agent,Coord,NRESERVED,MRESERVED) ;
vote(C,A,X,S,NRESERVED) :-  vote_msg(C,A,X,S,NRESERVED), clock(C,C,NRESERVED,_) ;
timer_svc(A,X,4,NRESERVED) :-  cancommit(A,_,X,NRESERVED), clock(A,A,NRESERVED,_) ;
abort(A,X,MRESERVED) :-  timeout(A,X,NRESERVED), clock(A,_,NRESERVED,MRESERVED),notin coordinator(A,A,NRESERVED),notin precommitted(A,_,X,NRESERVED),notin commit(A,X,NRESERVED) ;
authorized(C,X,NRESERVED) :-  vote_msg(C,_,X,"Y",NRESERVED), clock(C,C,NRESERVED,_),notin missing_vote(C,X,NRESERVED),notin abort(C,X,NRESERVED) ;
precommit(A,C,X,MRESERVED) :-  authorized(C,X,NRESERVED), agent(C,A,NRESERVED), clock(C,A,NRESERVED,MRESERVED) ;
ack(C,A,X,MRESERVED) :-  precommit(A,C,X,NRESERVED), prepared(A,C,X,"Y",NRESERVED), clock(A,C,NRESERVED,MRESERVED) ;
timer_cancel(A,X,NRESERVED) :-  precommit(A,_,X,NRESERVED), prepared(A,_,X,"Y",NRESERVED), clock(A,A,NRESERVED,_) ;
timer_svc(A,X,4,NRESERVED) :-  precommit(A,C,X,NRESERVED), prepared(A,C,X,"Y",NRESERVED), clock(A,A,NRESERVED,_) ;
commit(A,X,NRESERVED) :-  timeout(A,X,NRESERVED), precommitted(A,C,X,NRESERVED), clock(A,A,NRESERVED,_),notin abort(A,X,NRESERVED) ;
precommitted(A,C,X,NRESERVED) :-  precommit(A,C,X,NRESERVED), clock(A,A,NRESERVED,_) ;
precommitted(A,C,X,MRESERVED) :-  precommitted(A,C,X,NRESERVED), clock(A,_,NRESERVED,MRESERVED) ;
abort(C,X,MRESERVED) :-  vote(C,_,X,"N",NRESERVED), clock(C,_,NRESERVED,MRESERVED) ;
commit(C,X,MRESERVED) :-  ack(C,_,X,NRESERVED), clock(C,_,NRESERVED,MRESERVED),notin missing_ack(C,X,NRESERVED),notin abort(C,X,NRESERVED) ;
missing_ack(C,X,NRESERVED) :-  agent(C,A,NRESERVED), running(C,X,NRESERVED), clock(C,C,NRESERVED,_),notin ack(C,A,X,NRESERVED) ;
missing_vote(C,X,NRESERVED) :-  agent(C,A,NRESERVED), running(C,X,NRESERVED), clock(C,C,NRESERVED,_),notin vote(C,A,X,"Y",NRESERVED) ;
prepared(A,C,X,"Y",NRESERVED) :-  cancommit(A,C,X,NRESERVED), can(A,X,NRESERVED), clock(A,A,NRESERVED,_) ;
prepared(A,C,X,Y,MRESERVED) :-  prepared(A,C,X,Y,NRESERVED), clock(A,_,NRESERVED,MRESERVED) ;
timer_svc(C,X,5,NRESERVED) :-  begin(C,X,NRESERVED), clock(C,C,NRESERVED,_) ;
abort(C,X,MRESERVED) :-  timeout(C,X,NRESERVED), coordinator(C,C,NRESERVED), missing_ack(C,X,NRESERVED), clock(C,_,NRESERVED,MRESERVED),notin commit(C,X,NRESERVED) ;
commit(A,X,MRESERVED) :-  commit(C,X,NRESERVED), agent(C,A,NRESERVED), clock(C,A,NRESERVED,MRESERVED),notin abort(C,A,NRESERVED) ;
abort(A,X,MRESERVED) :-  abort(C,X,NRESERVED), agent(C,A,NRESERVED), clock(C,A,NRESERVED,MRESERVED) ;
gotcommit(C,A,X,MRESERVED) :-  commit(A,X,NRESERVED), precommitted(A,C,X,NRESERVED), clock(A,C,NRESERVED,MRESERVED) ;
agent(C,A,MRESERVED) :-  agent(C,A,NRESERVED), clock(C,_,NRESERVED,MRESERVED) ;
can(A,X,MRESERVED) :-  can(A,X,NRESERVED), clock(A,_,NRESERVED,MRESERVED) ;
abort(A,X,MRESERVED) :-  abort(A,X,NRESERVED), clock(A,_,NRESERVED,MRESERVED) ;
commit(A,X,MRESERVED) :-  commit(A,X,NRESERVED), clock(A,_,NRESERVED,MRESERVED),notin abort(A,X,NRESERVED) ;
vote(C,A,X,S,MRESERVED) :-  vote(C,A,X,S,NRESERVED), clock(C,_,NRESERVED,MRESERVED) ;
running(Coord,Xact,NRESERVED) :-  begin(Coord,Xact,NRESERVED), clock(Coord,Coord,NRESERVED,_) ;
running(C,X,MRESERVED) :-  running(C,X,NRESERVED), clock(C,_,NRESERVED,MRESERVED),notin commit(C,X,NRESERVED),notin abort(C,X,NRESERVED) ;
coordinator(A,C,MRESERVED) :-  coordinator(A,C,NRESERVED), clock(A,_,NRESERVED,MRESERVED) ;
timer_state(H,I,T-1,MRESERVED) :-  timer_svc(H,I,T,NRESERVED), clock(H,_,NRESERVED,MRESERVED) ;
timer_state(H,I,T-1,MRESERVED) :-  timer_state(H,I,T,NRESERVED), clock(H,_,NRESERVED,MRESERVED),notin timer_cancel(H,I,NRESERVED),T>1 ;
timeout(H,I,NRESERVED) :-  timer_state(H,I,1,NRESERVED), clock(H,H,NRESERVED,_) ;
agent(A0,A1,A2) :-  agent_edb(A0,A1,A2) ;
coordinator(A0,A1,A2) :-  coordinator_edb(A0,A1,A2) ;
can(A0,A1,A2) :-  can_edb(A0,A1,A2) ;
pre_prov0("termination",X,NRESERVED) :-  prepared(_,_,X,_,NRESERVED), clock(_,_,NRESERVED,_) ;
post_prov1("termination",X,A1,A2,NRESERVED) :-  decision(A1,X,_,NRESERVED), decision(A2,X,_,NRESERVED), clock(A1,A1,NRESERVED,_),A1!=A2 ;
decision_prov2(C,X,"c",NRESERVED) :-  commit(C,X,NRESERVED), clock(C,C,NRESERVED,_) ;
decision_prov3(C,X,"a",NRESERVED) :-  abort(C,X,NRESERVED), clock(C,C,NRESERVED,_) ;
disagree_prov4(X,V1,V2,NRESERVED) :-  decision(_,X,V1,NRESERVED), decision(_,X,V2,NRESERVED), clock(_,_,NRESERVED,_),V1!=V2 ;
pre_prov5("decide",X,NRESERVED) :-  decision(_,X,_,NRESERVED), clock(_,_,NRESERVED,_) ;
post_prov6("decide",X,V,NRESERVED) :-  decision(_,X,V,NRESERVED), clock(_,_,NRESERVED,_),notin disagree(X,NRESERVED) ;
cancommit_prov7(Agent,Coord,Xact,NRESERVED,MRESERVED) :-  begin(Coord,Xact,NRESERVED), agent(Coord,Agent,NRESERVED), clock(Coord,Agent,NRESERVED,MRESERVED) ;
vote_msg_prov8(Coord,Agent,Xact,"Y",NRESERVED,MRESERVED) :-  cancommit(Agent,Coord,Xact,NRESERVED), can(Agent,Xact,NRESERVED), clock(Agent,Coord,NRESERVED,MRESERVED) ;
vote_prov9(C,A,X,S,NRESERVED) :-  vote_msg(C,A,X,S,NRESERVED), clock(C,C,NRESERVED,_) ;
timer_svc_prov10(A,X,4,NRESERVED) :-  cancommit(A,_,X,NRESERVED), clock(A,A,NRESERVED,_) ;
abort_prov11(A,X,NRESERVED,MRESERVED) :-  timeout(A,X,NRESERVED), clock(A,_,NRESERVED,MRESERVED),notin coordinator(A,A,NRESERVED),notin precommitted(A,_,X,NRESERVED),notin commit(A,X,NRESERVED) ;
authorized_prov12(C,X,NRESERVED) :-  vote_msg(C,_,X,"Y",NRESERVED), clock(C,C,NRESERVED,_),notin missing_vote(C,X,NRESERVED),notin abort(C,X,NRESERVED) ;
precommit_prov13(A,C,X,NRESERVED,MRESERVED) :-  authorized(C,X,NRESERVED), agent(C,A,NRESERVED), clock(C,A,NRESERVED,MRESERVED) ;
ack_prov14(C,A,X,NRESERVED,MRESERVED) :-  precommit(A,C,X,NRESERVED), prepared(A,C,X,"Y",NRESERVED), clock(A,C,NRESERVED,MRESERVED) ;
timer_cancel_prov15(A,X,NRESERVED) :-  precommit(A,_,X,NRESERVED), prepared(A,_,X,"Y",NRESERVED), clock(A,A,NRESERVED,_) ;
timer_svc_prov16(A,X,4,C,NRESERVED) :-  precommit(A,C,X,NRESERVED), prepared(A,C,X,"Y",NRESERVED), clock(A,A,NRESERVED,_) ;
commit_prov17(A,X,C,NRESERVED) :-  timeout(A,X,NRESERVED), precommitted(A,C,X,NRESERVED), clock(A,A,NRESERVED,_),notin abort(A,X,NRESERVED) ;
precommitted_prov18(A,C,X,NRESERVED) :-  precommit(A,C,X,NRESERVED), clock(A,A,NRESERVED,_) ;
precommitted_prov19(A,C,X,NRESERVED,MRESERVED) :-  precommitted(A,C,X,NRESERVED), clock(A,_,NRESERVED,MRESERVED) ;
abort_prov20(C,X,NRESERVED,MRESERVED) :-  vote(C,_,X,"N",NRESERVED), clock(C,_,NRESERVED,MRESERVED) ;
commit_prov21(C,X,NRESERVED,MRESERVED) :-  ack(C,_,X,NRESERVED), clock(C,_,NRESERVED,MRESERVED),notin missing_ack(C,X,NRESERVED),notin abort(C,X,NRESERVED) ;
missing_ack_prov22(C,X,A,NRESERVED) :-  agent(C,A,NRESERVED), running(C,X,NRESERVED), clock(C,C,NRESERVED,_),notin ack(C,A,X,NRESERVED) ;
missing_vote_prov23(C,X,A,NRESERVED) :-  agent(C,A,NRESERVED), running(C,X,NRESERVED), clock(C,C,NRESERVED,_),notin vote(C,A,X,"Y",NRESERVED) ;
prepared_prov24(A,C,X,"Y",NRESERVED) :-  cancommit(A,C,X,NRESERVED), can(A,X,NRESERVED), clock(A,A,NRESERVED,_) ;
prepared_prov25(A,C,X,Y,NRESERVED,MRESERVED) :-  prepared(A,C,X,Y,NRESERVED), clock(A,_,NRESERVED,MRESERVED) ;
timer_svc_prov26(C,X,5,NRESERVED) :-  begin(C,X,NRESERVED), clock(C,C,NRESERVED,_) ;
abort_prov27(C,X,NRESERVED,MRESERVED) :-  timeout(C,X,NRESERVED), coordinator(C,C,NRESERVED), missing_ack(C,X,NRESERVED), clock(C,_,NRESERVED,MRESERVED),notin commit(C,X,NRESERVED) ;
commit_prov28(A,X,C,NRESERVED,MRESERVED) :-  commit(C,X,NRESERVED), agent(C,A,NRESERVED), clock(C,A,NRESERVED,MRESERVED),notin abort(C,A,NRESERVED) ;
abort_prov29(A,X,C,NRESERVED,MRESERVED) :-  abort(C,X,NRESERVED), agent(C,A,NRESERVED), clock(C,A,NRESERVED,MRESERVED) ;
gotcommit_prov30(C,A,X,NRESERVED,MRESERVED) :-  commit(A,X,NRESERVED), precommitted(A,C,X,NRESERVED), clock(A,C,NRESERVED,MRESERVED) ;
agent_prov31(C,A,NRESERVED,MRESERVED) :-  agent(C,A,NRESERVED), clock(C,_,NRESERVED,MRESERVED) ;
can_prov32(A,X,NRESERVED,MRESERVED) :-  can(A,X,NRESERVED), clock(A,_,NRESERVED,MRESERVED) ;
abort_prov33(A,X,NRESERVED,MRESERVED) :-  abort(A,X,NRESERVED), clock(A,_,NRESERVED,MRESERVED) ;
commit_prov34(A,X,NRESERVED,MRESERVED) :-  commit(A,X,NRESERVED), clock(A,_,NRESERVED,MRESERVED),notin abort(A,X,NRESERVED) ;
vote_prov35(C,A,X,S,NRESERVED,MRESERVED) :-  vote(C,A,X,S,NRESERVED), clock(C,_,NRESERVED,MRESERVED) ;
running_prov36(Coord,Xact,NRESERVED) :-  begin(Coord,Xact,NRESERVED), clock(Coord,Coord,NRESERVED,_) ;
running_prov37(C,X,NRESERVED,MRESERVED) :-  running(C,X,NRESERVED), clock(C,_,NRESERVED,MRESERVED),notin commit(C,X,NRESERVED),notin abort(C,X,NRESERVED) ;
coordinator_prov38(A,C,NRESERVED,MRESERVED) :-  coordinator(A,C,NRESERVED), clock(A,_,NRESERVED,MRESERVED) ;
timer_state_prov39(H,I,T-1,T,NRESERVED,MRESERVED) :-  timer_svc(H,I,T,NRESERVED), clock(H,_,NRESERVED,MRESERVED) ;
timer_state_prov40(H,I,T-1,T,NRESERVED,MRESERVED) :-  timer_state(H,I,T,NRESERVED), clock(H,_,NRESERVED,MRESERVED),notin timer_cancel(H,I,NRESERVED),T>1 ;
timeout_prov41(H,I,NRESERVED) :-  timer_state(H,I,1,NRESERVED), clock(H,H,NRESERVED,_) ;
agent_prov42(A0,A1,A2) :-  agent_edb(A0,A1,A2) ;
coordinator_prov43(A0,A1,A2) :-  coordinator_edb(A0,A1,A2) ;
can_prov44(A0,A1,A2) :-  can_edb(A0,A1,A2) ;
crash("NULL","NULL",99999999,99999999);
clock("a","a",1,2);
clock("a","b",1,2);
clock("a","c",1,2);
clock("b","a",1,2);
clock("b","b",1,2);
clock("b","c",1,2);
clock("c","a",1,2);
clock("c","b",1,2);
clock("c","c",1,2);
clock("a","a",2,3);
clock("a","b",2,3);
clock("a","c",2,3);
clock("b","a",2,3);
clock("b","b",2,3);
clock("b","c",2,3);
clock("c","a",2,3);
clock("c","b",2,3);
clock("c","c",2,3);
clock("a","a",3,4);
clock("a","b",3,4);
clock("a","c",3,4);
clock("b","a",3,4);
clock("b","b",3,4);
clock("b","c",3,4);
clock("c","a",3,4);
clock("c","b",3,4);
clock("c","c",3,4);
clock("a","a",4,5);
clock("a","b",4,5);
clock("a","c",4,5);
clock("b","a",4,5);
clock("b","b",4,5);
clock("b","c",4,5);
clock("c","a",4,5);
clock("c","b",4,5);
clock("c","c",4,5);
